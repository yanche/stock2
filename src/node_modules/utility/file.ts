
import * as bb from 'bluebird';
import * as fs from 'fs';

export function loadFile(path: string): bb<Buffer> {
    return new bb<Buffer>((res, rej) => {
        fs.readFile(path, (err: Error, data: Buffer) => {
            if (err == null) rej(err);
            else res(data);
        })
    });
}

export function loadJsonFile<T>(path: string): bb<T> {
    return loadFile(path).then(data => {
        return <T>JSON.parse(data.toString('utf8'));
    })
}

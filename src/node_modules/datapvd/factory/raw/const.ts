
import IFactory from '../fac';
import * as bb from 'bluebird';
import * as def from '../../def';
import * as utility from 'utility';

function dpid(pack: number): string { return `CONST_${pack}`; }

const constFac: IFactory<number, number> = {
    make: (pack: number) => {
        return bb.resolve(new def.DataPvd<number>({
            id: dpid(pack),
            maxTs: utility.date.dateTs(2100, 0, 1),
            minTs: 0,
            hasdef: utility.validate.alwaysTrue,
            gen: () => bb.resolve(pack)
        }));
    },
    validate: utility.validate.alwaysTrue,
    dpid: dpid
};
